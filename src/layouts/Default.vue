<template>
  <div class="layout-wrapper" :class="theme">
    <div class="header-shape-divider">
      <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z" class="shape-fill"></path>
      </svg>
    </div>

    <div class="layout">
      <header class="header">
        <g-link to="/" class="logo__link">
          <div class="logo">
            <span class="logo__text">> $ cd /home/trezcool</span>
            <span class="logo__cursor"></span>
          </div>
        </g-link>

        <nav class="nav">
          <!-- FIXME: fix Theme Switcher SVGs positions -->
          <a href="#" class="nav__link them-switcher" @click.prevent="toggleTheme">
<!--            <svg v-if="theme === 'theme&#45;&#45;light'" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>-->
            <svg v-if="theme === 'theme--light'" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
<!--            <svg v-else xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>-->
            <svg v-else xmlns="http://www.w3.org/2000/svg" class="them-switcher__svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
          </a>

          <g-link class="nav__link" to="/about/">About</g-link>
          <g-link class="nav__link" to="/portfolio/">Portfolio</g-link>
          <g-link class="nav__link" to="/contact/">Contact</g-link>
          <g-link class="nav__link" to="/blog/">Blog</g-link>
        </nav>
      </header>

      <slot/>

      <footer>
        <p class="footer__copyright">© {{ year }} • Trésor Kambembo</p>
      </footer>
    </div>

    <div class="footer-shape-divider">
      <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
<!--        <path d="M985.66,92.83C906.67,72,823.78,31,743.84,14.19c-82.26-17.34-168.06-16.33-250.45.39-57.84,11.73-114,31.07-172,41.86A600.21,600.21,0,0,1,0,27.35V120H1200V95.8C1132.19,118.92,1055.71,111.31,985.66,92.83Z" class="shape-fill"></path>-->
<!--        <path d="M649.97 0L599.91 54.12 550.03 0 0 0 0 120 1200 120 1200 0 649.97 0z" class="shape-fill"></path>-->
        <path d="M600,16.8c0-8.11-8.88-13.2-19.92-13.2H0V120H1200V3.6H619.92C608.88,3.6,600,8.66,600,16.8Z" class="shape-fill"></path>
      </svg>
    </div>
  </div>
</template>

<static-query>
query {
  metadata {
    siteName
  }
}
</static-query>

<script>
export default {
  mounted() {
    this.theme = localStorage.getItem('theme') || 'theme--dark'
  },
  data() {
    return {
      theme: '',
      year: new Date().getFullYear()
    }
  },
  methods: {
    toggleTheme() {
      this.theme = this.theme === 'theme--dark' ? 'theme--light' : 'theme--dark'
      localStorage.setItem('theme', this.theme)
    }
  }
}
</script>

<style src="../assets/css/main.css" />
